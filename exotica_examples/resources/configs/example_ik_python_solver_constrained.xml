<?xml version="1.0" ?>
<IKSolverDemoConfig>
    <EndPoseProblem Name="FigureEightTracking">
        <PlanningScene>
            <Scene>
                <JointGroup>manipulator</JointGroup>
                <URDF>{exotica_examples}/resources/robots/iiwa7.urdf</URDF>
                <SRDF>{exotica_examples}/resources/robots/iiwa7.srdf</SRDF>
                <LoadScene>{exotica_examples}/resources/scenes/example_box.scene</LoadScene>
                <Links>
                    <Link Name="TargetOffset" Transform="0.8 -0.1 0.5"/>
                    <Link Name="Target" Parent="TargetOffset" />
                </Links>
                <Trajectories>
                    <Trajectory Link="Target" File="{exotica_examples}/resources/scenes/figure_eight.traj" />
                </Trajectories>
                <AttachLinks>
                    <AttachLink Name="Box" Parent="Target" Local="1"/>
                </AttachLinks>
            </Scene>
        </PlanningScene>

        <Maps>
            <EffFrame Name="Position">
                <EndEffector>
                    <Frame Link="iiwa_link_7" LinkOffset="0.4 0 0.1 0 -0.707 0 0.707" Base="Target"/>
                </EndEffector>
            </EffFrame>
            <EffPosition Name="LimitEff">
                <EndEffector>
                    <Frame Link="iiwa_link_7" LinkOffset="0 0 0.2" BaseOffset="2 -0.1 2"/>
                </EndEffector>
            </EffPosition>
            <JointPose Name="JointPose"/>
        </Maps>

        <Cost>
            <Task Task="Position" Rho="1e3"/>
            <Task Task="JointPose"/>
        </Cost>

        <Inequality>
            <Task Task="LimitEff" Rho="-1"/>
        </Inequality>

        <UseBounds>0</UseBounds>
        <StartState>0 0 0 0 0 0 0</StartState>
        <NominalState>0 0 0 0 0 0 0</NominalState>
        <W> 7 6 5 4 3 2 1 </W>
    </EndPoseProblem>
</IKSolverDemoConfig>
